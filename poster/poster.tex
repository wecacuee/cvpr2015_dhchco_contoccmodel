%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% LaTeX poster template
% Created by Nathaniel Johnston
% August 2009
% http://www.nathanieljohnston.com/2009/08/latex-poster-template/
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[handout,final]{beamer}
\usepackage{beamerposter}
\usepackage{graphicx}			% allows us to import images

\usepackage{booktabs}
\usepackage{bm}
\usepackage{tikz}

\usetikzlibrary{trees,shadows}

\tikzset{/tikz/x=2.5cm}
\tikzset{/tikz/y=2.5cm}

\newcommand{\Ptransmission}{P_{\textit{transmission}}}%

%-----------------------------------------------------------
% Define the column width and poster size
% To set effective sepwid, onecolwid and twocolwid values, first choose how many columns you want and how much separation you want between columns
% The separation I chose is 0.024 and I want 4 columns
% Then set onecolwid to be (1-(4+1)*0.024)/4 = 0.22
% Set twocolwid to be 2*onecolwid + sepwid = 0.464
%-----------------------------------------------------------

\newlength{\sepwid}
\newlength{\onecolwid}
\newlength{\twocolwid}
\newlength{\threecolwid}
\setlength{\paperwidth}{48in}
\setlength{\paperheight}{36in}
\setlength{\sepwid}{0.024\paperwidth}
\setlength{\onecolwid}{0.22\paperwidth}
\setlength{\twocolwid}{0.464\paperwidth}
\setlength{\threecolwid}{0.708\paperwidth}
\setlength{\topmargin}{-0.5in}
\usetheme{confposter}
\usepackage{exscale}

\input{preamble}


%-----------------------------------------------------------
% The next part fixes a problem with figure numbering. Thanks Nishan!
% When including a figure in your poster, be sure that the commands are typed in the following order:
% \begin{figure}
% \includegraphics[...]{...}
% \caption{...}
% \end{figure}
% That is, put the \caption after the \includegraphics
%-----------------------------------------------------------

\usecaptiontemplate{
\small
\structure{\insertcaptionname~\insertcaptionnumber:}
\insertcaption}

%-----------------------------------------------------------
% Define colours (see beamerthemeconfposter.sty to change these colour definitions)
%-----------------------------------------------------------

% \setbeamercolor{block title}{fg=ngreen,bg=white}
% \setbeamercolor{block body}{fg=black,bg=white}
% \setbeamercolor{block alerted title}{fg=white,bg=dblue!70}
% \setbeamercolor{block alerted body}{fg=black,bg=dblue!10}

%-----------------------------------------------------------
% Name and authors of poster/paper/research
%-----------------------------------------------------------

\title{A Continuous Occlusion Model for Road Scene Understanding}
\author{Vikas Dhiman$^\dagger$ \and Quoc-Huy Tran$^*$ \and Jason J Corso$^\dagger$ \and Manmohan Chandraker$^*$}
\institute{$^\dagger$University of Michigan, Ann Arbor, MI \qquad $^*$NEC Labs, Cupertino, CA}

%-----------------------------------------------------------
% Start the poster itself
%-----------------------------------------------------------

\begin{document}

\begin{frame}[t]
  \begin{columns}[t]												% the [t] option aligns the column's content at the top
    \begin{column}{\sepwid}\end{column}			% empty spacer column
    \begin{column}{\onecolwid}
      \begin{block}{Introduction}
        \begin{figure}[!!t]
          \input{Source/figure_introduction.tex}
        \end{figure}
      \end{block}

      \begin{block}{Continuous Occlusion Model}
        \begin{align}
          f^i_{\text{occ}}(\bx) = \cL(\bx; \bp_i, \bSigma_i),
        \end{align}
        \begin{align}
          P^{ij}_{\textit{observation}} = P^{ij}_{\textit{reflection}}P^{j}_{\textit{transmission}}.
          \label{eq:imgform}
        \end{align}
        \begin{align}
          \Prefl = \frac{1}{Z}(\max \{0, \nabla {f^i_{occ}}(\bx_j)^\top \ray \})^2.
          \label{eq:evalPrefl}
        \end{align}

        \begin{align}
          P^j_{\textit{transmission}}(\lambda) &= \prod_{c}^{\lambda} (1 - \occft{\lambda \ray})^{d\lambda}\\
          &\approx \prod_i (1 - \cL_u (\bu; \bmu_i, \bGamma_i) \cL_{\lambda}(\lambda; \meandepth{i})).
          \label{eq:ptrans-integral}
        \end{align}

        % \begin{figure}
        %   \usetikzlibrary{calc}
        %   \centering
        %   \begin{tikzpicture}
        %     \input{Source/reflectiontransmissiongraph.tex}
        %   \end{tikzpicture}
        %   \vspace{-0.3cm}
        %   \caption{\small We represent objects as translucent ellipsoids, which leads to the formulation of transmission and reflection probabilities. This figure shows the reflection probability for the first object (in violet), which has high values around the camera-facing side of the object. Also, note that the transmission probability is inversely proportional to occupancy.}
        %   \label{fig:reflectiontransimission}
        %   \vspace{-0.3cm}
        % \end{figure}
        \begin{figure}
          \centering
          \includegraphics[width=0.9\columnwidth]{results/plotPtransmission_exact_vs_approx_pt_vis-small.png}\\
          \includegraphics[trim=0.0 0 0.3in 0, clip, width=0.9\columnwidth]{results/plotPtransmission_exact_vs_approx_embedded_fonts.pdf}
          \vspace{-0.3cm}
          \caption{\small Comparisons between the approximate and exact formulations of $\Ptrans$. The drop in the approximate version is delayed because we assume drop at the object center rather than the camera-facing face of the object.}
          \label{fig:compare:exact:approx:ptrans}
          \vspace{-0.3cm}
        \end{figure}
      \end{block}

    \end{column}
    \begin{column}{\sepwid}\end{column}			% empty spacer column
    \begin{column}{2.0\onecolwid}
      \begin{block}{Results}
        \vspace*{-\baselineskip}
        \begin{columns}[t]
          \column{1.000\onecolwid}
          \begin{table}
            \begin{tabular}{lrrrr}
              \toprule
              Point tracks & Ours & BBox & BM & RAS\\
              \midrule
              Dynamic \& occluded         & \textbf{13.2} & 21.3 & 30.9 & 30.1 \\
              Occluded		              & \textbf{15.7} & 19.8 & 39.5 & 37.8 \\
              Dynamic		              & \textbf{6.6} & 11.4 & 15.3 & 17.7 \\
              All		                  & \textbf{8.6} & 12.6 & 21.9 & 21.5 \\
              \bottomrule
            \end{tabular}
            \caption{\small Mean association errors on different sets of input point tracks over all sequences. Errors are in terms of average fractions of foreground points incorrectly associated to objects per sequence.}
            \label{tab:meanAssoc}
          \end{table}
          \column{1.000\onecolwid}
          \begin{table}
            \begin{tabular}{lrr}
              \toprule
              Method & t & dim \\
              \midrule
              Point cloud fitting
              & 6.87 & 4.02\\
              Initialization by~\cite{Song_Chandraker_2014}
              & 5.61 & 3.23\\
              $\EnergyTrackNoOcc + \EnergyBBoxNoOcc +\EnergySize+\EnergyDyn$ 
              & 3.95  & 1.72\\        
              $\EnergyTrackNoOcc + \EnergyBBox +\EnergySize+\EnergyDyn$        
              & 4.81  & 2.16\\        
              $\EnergyTrack + \EnergyBBoxNoOcc +\EnergySize+\EnergyDyn$      
              & 4.05  & {\bf 1.59}\\        
              $\EnergyTrack + \EnergyBBox +\EnergySize+\EnergyDyn$             
              & {\bf 3.24}  & 2.16\\
              \bottomrule
            \end{tabular}
            \caption{\small Localization experiment results with different combinations of energies. We report translation error (t) and dimension error (dim) in meters per car. Yaw angles for static objects are not optimized by our model. These experiments use the set of occluded tracks to demonstrate the effect of our modeling.}
            \label{tab:localizationExperiment}
          \end{table}
        \end{columns}
      \end{block}

      \begin{block}{Association error}
        \begin{figure}[!!t]
          \centering
          \includegraphics[trim=1.0in 0.4in 1.0in 0.2in, clip, width=0.9\textwidth]{results/plotErrorBarEvalAssocCoeffAllSequence.pdf}
          \vspace{-0.3cm}
          \caption{\small Association errors on different sets of input point tracks. Numbers on the x-axis represent sequence numbers in the KITTI raw dataset. Errors are in terms of average fractions of foreground points incorrectly associated to objects per sequence.}
          \vspace{-0.3cm}
          \label{fig:assoc-occ-results}
        \end{figure}
        \newlength{\tblimgwidth}
        \setlength{\tblimgwidth}{0.080\textwidth}
        \input{Source/figure_assoc_qualitative.tex}
      \end{block}
    \end{column}
    \begin{column}{\sepwid}\end{column}			% empty spacer column
    \begin{column}{\onecolwid}
      \begin{block}{Object Point Association}
        \begin{align}
          \assocP = \Prefl\Ptrans,
          \label{eq:defineassocP}
        \end{align}
        \begin{align}
          P^{ij}_{\text{assoc}} = \frac{1}{Z''}\int_0^{\infty} \assocP \exp(-\Ereproj(\lambda))d\lambda,
          \label{eq:prob-assoc}
        \end{align}
      \end{block}
      \vspace{0.5in}
      \begin{block}{3D Object Localization}
        \begin{figure}
          \centering
          \input{Source/graphical_model_multiple}%
          \caption{Graphical model showing the factor nodes among different
            cars in the same frame. We assume occlusion relationships between
            different cars are known and hence the occlusion modeling can be done
            locally. In this example, the occlusion relationship affects the
            following pair of cars 6-2, 2-5, 5-1. Cars 3 and 4 are not occluded
            and hence affected by only unary terms within the frame. We also avoid 
            collision modeling between unoccluded cars to encourage sparsity.
          }
          \label{fig:graphmodel}
        \end{figure}
        \begin{multline*}
          -\log{P(\{ \bp^i(t) , \bomega^i(t) , \bB^i(t) \} | \{\bu_j(t)\} , \{\bb{i}\} )} = \\
          -\tilde{Z} 
          + \sum_{t=s_i}^{e_i} \lambda_{\text{track}}\EnergyTrack
          + \\ 
          \sum_{t=s_i}^{e_i} \sum_{i=1}^N  
          \left(
            \lambda_{\text{detect}}\EnergyBBox
            + \lambda_{\text{dyn}}\EnergyDyn    
            + \lambda_{\text{size}}\EnergySize
          \right)
          \enspace,
        \end{multline*}
        \begin{equation}
          \Ereproj(\lambda) = \left\|\trackpj{t} - \projectionOf{\invProjectionOftm{\trackpj{t-1}, \lambda}}\right\|^2.
          \label{eq:reprojerror}
        \end{equation}
        % \begin{figure}
        %   \centering
        %   \newcommand{\imagewidth}{\onecolwid}
        %   \input{Source/scenelayoutoverlayCity0961}
        %   \caption{A sample road scene with the unknowns of each car modeled as random variables. 
        %   The relating energies are shown in Figure~\ref{fig:graphmodel}}
        % \end{figure}

      \end{block}
      \vspace{0.5in}
      \begin{block}{Conclusions and Future work}
        \begin{itemize}
          \item Presented physically interpretable unified occlusion modeling
          \item The model generalizes to different applications: point association and 3D localization
          \item Challenges include the slow inference on 3D localization
        \end{itemize}
      \end{block}
      \vspace{0.5in}
      \begin{block}{Acknowledgements}
        This work was part of V.~Dhiman's internship at NEC Labs America, in Cupertino. V.~Dhiman and J.~J.~Corso were also supported by NSF NRI IIS 1522904.
      \end{block}
      \begin{block}{References}
        \bibliography{poster}
        \bibliographystyle{ieee}
      \end{block}
    \end{column}
  \end{columns}
\end{frame}

\end{document}
